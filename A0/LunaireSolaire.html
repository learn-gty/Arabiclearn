<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Apprentissage Lettres Lunaires/Solaires</title>
  <style>
/* Base commune */
*, *::before, *::after {
  box-sizing: border-box;
}

:root {
  --btn-size: 44px;
  --color-red: #C8102E;
  --color-green: #007A33;
  --color-black: #000;
  --color-white: #fff;
  --color-bg: rgba(255,255,255,0.98);
  --color-border: #ccc;
}

body {
  margin: 0;
  padding: 20px;
  font-family: Quicksand, sans-serif;
  min-height: 100vh;
  display: flex;
  justify-content: center;
  background: linear-gradient(to bottom, rgba(0,0,0,0.6) 0%, rgba(0,0,0,0.5) 20%, rgba(0,0,0,0.0) 35%),
              linear-gradient(to bottom, rgba(255,255,255,0.7) 35%, rgba(255,255,255,0.7) 65%, rgba(255,255,255,0.0) 66%),
              linear-gradient(to bottom, rgba(0,122,51,0.8) 65%, rgba(0,122,51,0.9) 100%),
              radial-gradient(circle at center, rgba(255,255,255,0.2) 30%, rgba(255,255,255,0.5) 60%, rgba(255,255,255,0.9) 100%),
              #ffffff;
  background-repeat: no-repeat;
  background-attachment: fixed;
  background-size: cover;
  color: var(--color-black);
}

body::before {
  content: "";
  position: fixed;
  top: 0;
  left: 0;
  width: 40vw;
  height: 100%;
  background: rgba(200,16,46,0.85);
  clip-path: polygon(0 0, 100% 50%, 0 100%);
  filter: blur(12px);
  pointer-events: none;
  z-index: -1;
}

/* Conteneur principal */
.container {
  background: var(--color-bg);
  border: 1px solid var(--color-border);
  border-radius: 10px;
  padding: 15px;
  max-width: 1000px;
  width: 100%;
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}

/* Boutons */
button {
  background-color: var(--color-red);
  color: var(--color-white);
  border: none;
  padding: 10px 18px;
  border-radius: 5px;
  cursor: pointer;
  font-size: 1rem;
  transition: background-color 0.2s ease-in-out;
}

button:hover {
  background-color: #A00F24;
}

button:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

/* Modales */
.help-modal {
  display: none;
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: var(--color-bg);
  border: 1px solid var(--color-border);
  box-shadow: 0 0 20px rgba(0,0,0,0.3);
  z-index: 9999;
  padding: 10px 15px;
  border-radius: 8px;
  max-width: 90vw;
  max-height: 90vh;
  overflow-y: auto;
}

.help-modal h3 {
  margin-top: 0;
  text-align: center;
  font-size: 1.1rem;
  color: var(--color-red);
}

.modal-close-btn {
  position: absolute;
  top: 5px;
  right: 10px;
  background: transparent;
  border: none;
  font-size: 1.2rem;
  cursor: pointer;
  color: var(--color-red);
}

/* Lettres */
.letter-grid {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 6px;
  margin: 10px 0;
}

.letter-box {
  border: 2px solid var(--color-black);
  padding: 4px 8px;
  border-radius: 4px;
  font-size: 22px;
  transition: 0.2s;
}

.letter-box:hover {
  border-color: var(--color-red);
  background-color: rgba(200,16,46,0.1);
}

/* SÃ©lections */
::selection {
  background: var(--color-red);
  color: var(--color-white);
}

input[type="checkbox"] {
  accent-color: var(--color-red);
}

/* Statistiques */
.stats {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 30px;
  margin-bottom: 20px;
  font-size: 1rem;
  font-weight: bold;
  background: rgba(255,255,255,0.6);
  padding: 10px;
  border-radius: 8px;
}

.stat-item {
  display: flex;
  align-items: center;
  gap: 6px;
}

/* Tableau */
#wordTable {
  margin: 16px auto;
  border-collapse: collapse;
  width: 100%;
  max-width: 700px;
  background: var(--color-bg);
  border: 1px solid #ccc;
  box-shadow: 0 1px 4px rgba(0,0,0,0.05);
  font-size: 0.88rem;
}

#wordTable th,
#wordTable td {
  padding: 6px 8px;
  border: 1px solid #ccc;
  text-align: center;
}

#wordTable th {
  background: var(--color-red);
  color: var(--color-white);
  font-size: 0.9rem;
}

/* Feedback */
#feedback {
  text-align: center;
  max-width: 800px;
  margin: 20px auto;
  padding: 10px;
  line-height: 1.4em;
}

#feedback.success {
  border: 2px solid var(--color-green);
  background: rgba(0, 122, 51, 0.1);
  border-radius: 8px;
  color: var(--color-green);
}

#feedback.error {
  border: 2px solid var(--color-red);
  background: rgba(200, 16, 46, 0.1);
  border-radius: 8px;
  color: var(--color-red);
}

#feedback h4 {
  margin: 0.5em 0;
}

/* Menu hamburger */
.menu-hamburger {
  position: fixed;
  top: 1rem;
  left: 1rem;
  z-index: 1100;
}

.menu-icon {
  display: flex;
  flex-direction: column;
  justify-content: center;
  width: 36px;
  height: 36px;
  cursor: pointer;
}

.menu-icon span {
  height: 3px;
  width: 100%;
  background-color: #333;
  margin: 4px 0;
  border-radius: 2px;
  transition: 0.4s ease;
}

#menu-toggle {
  display: none;
}

.menu {
  position: fixed;
  top: 0;
  left: -85vw;
  width: 80vw;
  max-width: 300px;
  height: 100vh;
  background: #fff;
  box-shadow: 4px 0 20px rgba(0, 0, 0, 0.1);
  border-radius: 0 16px 16px 0;
  padding-top: 60px;
  list-style: none;
  overflow-y: auto;
  transition: left 0.35s ease;
}

.menu li a {
  display: block;
  padding: 12px 18px;
  color: #333;
  font-size: 1rem;
  text-decoration: none;
  border-left: 4px solid transparent;
  transition: background-color 0.25s, border-color 0.25s;
}

.menu li a:hover {
  background-color: #f5f5f5;
  color: var(--color-green);
  border-left: 4px solid var(--color-green);
}

#menu-toggle:checked ~ .menu {
  left: 0;
}

#menu-toggle:checked + .menu-icon span:nth-child(1) {
  transform: rotate(45deg) translate(5px, 5px);
}
#menu-toggle:checked + .menu-icon span:nth-child(2) {
  opacity: 0;
}
#menu-toggle:checked + .menu-icon span:nth-child(3) {
  transform: rotate(-45deg) translate(5px, -5px);
}

/* RESPONSIVE */
@media (max-width: 600px) {
  body {
    padding: 8px;
  }

  .container {
    padding: 10px;
    border-radius: 8px;
  }

  h1 {
    font-size: 1.2rem;
    text-align: center;
  }

  .stats {
    flex-direction: column;
    gap: 10px;
    font-size: 0.95rem;
    padding: 8px;
  }

  .controls {
    flex-direction: column;
    gap: 10px;
    font-size: 0.95rem;
    margin-bottom: 15px;
  }

  .controls input[type="number"] {
    max-width: 80px;
  }

  .letter-box {
    font-size: 18px;
    padding: 3px 6px;
  }

  #wordTable {
    font-size: 0.78rem;
    overflow-x: auto;
    display: block;
  }

  #wordTable th, #wordTable td {
    padding: 4px;
    white-space: nowrap;
    font-size: 0.78rem;
  }

  button {
    font-size: 0.95rem;
    padding: 8px 12px;
  }

  .menu {
    width: 85vw;
    left: -100vw;
  }

  #menu-toggle:checked ~ .menu {
    left: 0;
  }
}


/* Cacher les cases Ã  cocher sur mobile */
@media (max-width: 600px) {
  .checkbox-selection {
    display: none !important;
  }
  .mobile-btn-group {
    display: flex;
    flex-wrap: wrap;
    gap: 12px;
    margin: 12px 0;
  }
  .reponse-btn {
    display: inline-block;
    padding: 12px 18px;
    border: 2px solid #1976d2;
    border-radius: 8px;
    background: #fff;
    color: #1976d2;
    font-size: 1.1em;
    cursor: pointer;
    transition: background 0.2s, color 0.2s, border 0.2s;
    min-width: 120px;
    text-align: center;
    margin-bottom: 8px;
    user-select: none;
  }
  .reponse-btn.selected {
    background: #1976d2;
    color: #fff;
    border-color: #1976d2;
  }
  .reponse-btn.erreur {
    background: #e53935;
    color: #fff;
    border-color: #b71c1c;
  }
  .reponse-btn.correction {
    background: #43a047;
    color: #fff;
    border-color: #1b5e20;
  }
}


/* Cacher certaines colonnes */
.hide-col {
  display: none;
}


@media (max-width: 700px), (pointer: coarse) {
  /* Cache lâ€™en-tÃªte du tableau sur mobile */
  #tableHead, #tableHead tr, #tableHead th {
    display: none !important;
  }
  /* Cache le tableau des mots sur mobile */
  #tableBody, #tableBody tr, #tableBody td, #tableBody input[type="checkbox"] {
    display: none !important;
  }
  /* Affichage vertical des boutons sous le bouton de vÃ©rification */
  #mobileChoices {
    display: flex;
    flex-direction: column;
    gap: 14px;
    align-items: stretch;
    margin: 18px 0;
    width: 100%;
  }
  #mobileChoices button {
    width: 100%;
    font-size: 2.2em;
    padding: 14px 0;
    border-radius: 6px;
    border: 2px solid #222;
    background: #f4f4f4;
    color: #222;
    transition: background 0.2s, color 0.2s, border 0.2s;
    font-weight: 600;
    outline: none;
    text-align: center;
  }
  #mobileChoices button.selected {
    background: #E4312b;
    color: #fff;
    border-color: #E4312b;
  }
  #mobileChoices button:active {
    filter: brightness(0.95);
  }
  body.dark-mode #mobileChoices button {
    background: #232323;
    color: #fff;
    border-color: #fff;
  }
  body.dark-mode #mobileChoices button.selected {
    background: #149954;
    color: #fff;
    border-color: #149954;
  }

  .stat-item {
    font-size: 1.8rem;
  }

  label {
    font-size: 1.5rem;
  }

  input {
    font-size: 1.5rem;
  }

  button {
    font-size: 1.5rem;
  }


  #question {
    font-size: 2.2rem;
    text-align: center;

  }

  #checkBtn {
    font-size: 2.2rem;

  }

.controls {
  display: flex;            /* active le flex layout */
  align-items: center;      /* centre verticalement label et boutons */
  flex-wrap: nowrap;        /* interdit le retour Ã  la ligne */
  gap: 0.5rem;              /* espacement horizontal entre les items */
  overflow-x: auto;         /* permet le scroll horizontal si trop large */
}

}


 @media (max-width: 600px) {
      .menu { width: 80vw; max-width: 300px; border-radius: 0 16px 16px 0; left: -300px;}
      .menu li a { font-size: 0.95rem; padding: 12px 20px;}
      .menu-icon { width: 36px; height: 36px;}
      .menu-icon span { margin: 4px 0;}
      #content-wrapper { z-index: 0; position: relative; }


    }


</style>

</head><body>
<!-- Menu Hamburger Responsive -->
<nav class="menu-hamburger">
  <input type="checkbox" id="menu-toggle" />
  <label for="menu-toggle" class="menu-icon">
    <span></span>
    <span></span>
    <span></span>
  </label>
<ul class="menu">
    <li><a href="../index.html">Accueil</a></li>
    <li><a href="ar50.html">SÃ©quences & LeÃ§ons</a></li>
    <li><a href="pronoms.html">Pronoms</a></li>
    <li><a href="pronomsPossessifs.html">Possessifs</a></li>
    <li><a href="LunaireSolaire.html">Lettres Lunaires/Solaires</a></li>
    <li><a href="chiffres.3.html">Exercice Chiffres </a></li>
    <li><a href="ChiffresEx.3.5.html">Autres Exercice Chiffres</a></li>
    <li><a href="Verb.1.1.html">Conjugaison (1er verbes)</a></li> 
    <li><a href="PaysEtNationalitÃ©s.html">Pays Et NationalitÃ©s</a></li>  
    <li><a href="PageUnderConstruction.html">Suite...</a></li> </ul>
</nav>


    <div class="container">
        <h1>ğŸŒ™â˜€ï¸ Apprentissage des Lettres Lunaires et Solaires</h1>
        
       <div class="stats">
  <div class="stat-item">ğŸ¯ Bonnes rÃ©ponses : <span id="correctCount">0</span></div>
  <div class="stat-item">âŒ Erreurs : <span id="errorCount">0</span></div>
  <div class="stat-item">ğŸ“Š PrÃ©cision : <span id="accuracy">0%</span></div>
  <div class="stat-item">ğŸ”¥ SÃ©rie : <span id="streak">0</span></div>
    </div>


        <div class="controls">
             <label>Nombre de mots : 
                <input type="number" id="wordCount" value="10" min="1" max="100">
            </label>
            <button onclick="generateExercise()">ğŸ”„ Nouvel exercice</button>
            <button onclick="showHelp('lunar')">ğŸŒ™ Aide Lunaires</button>
            <button onclick="showHelp('solar')">â˜€ï¸ Aide Solaires</button>
        </div>

        <div id="question"></div>

        <div id="feedback" class="feedback"></div>
        
        <table id="wordTable">
            <thead>
                <tr>
                    <th>Mot Arabe</th>
                    <th>FranÃ§ais</th>
                    <th class="hide-col">TranslittÃ©ration</th>
                    <th>SÃ©lection</th>
                </tr>
            </thead>
        
            <tbody id="tableBody"></tbody>
        </table>
       <div class="mobile-btn-group" id="mobile-btn-group" style="display:none"></div>
        <div style="text-align: center; margin: 20px 0">
            <button id="checkBtn" onclick="checkAnswers()">âœ… VÃ©rifier les rÃ©ponses</button>
            <div id="mobileChoices"></div>

        </div>
      
    </div>

    <!-- Modales d'aide -->
      <div id="lunarHelp" class="help-modal">
        <button class="modal-close-btn" onclick="hideHelp()">Ã—</button>
        <h3>ğŸŒ™ Lettres Lunaires</h3>
        <p>Assimilent le Ù„ de l'article dÃ©fini :</p>
        <div class="letter-grid">
            <span class="letter-box">Ø£</span><span class="letter-box">Ø¨</span><span class="letter-box">Ø¬</span>
            <span class="letter-box">Ø­</span><span class="letter-box">Ø®</span><span class="letter-box">Ø¹</span>
            <span class="letter-box">Øº</span><span class="letter-box">Ù</span><span class="letter-box">Ù‚</span>
            <span class="letter-box">Ùƒ</span><span class="letter-box">Ù…</span><span class="letter-box">Ù‡</span>
            <span class="letter-box">Ùˆ</span><span class="letter-box">ÙŠ</span>
        </div>
        <button onclick="hideHelp()">Fermer</button>
    </div>

    <div id="solarHelp" class="help-modal">
        <button class="modal-close-btn" onclick="hideHelp()">Ã—</button>
        <h3>â˜€ï¸ Lettres Solaires</h3>
        <p>N'assimilent pas le Ù„ de l'article dÃ©fini :</p>
        <div class="letter-grid">
            <span class="letter-box">Øª</span><span class="letter-box">Ø«</span><span class="letter-box">Ø¯</span>
            <span class="letter-box">Ø°</span><span class="letter-box">Ø±</span><span class="letter-box">Ø²</span>
            <span class="letter-box">Ø³</span><span class="letter-box">Ø´</span><span class="letter-box">Øµ</span>
            <span class="letter-box">Ø¶</span><span class="letter-box">Ø·</span><span class="letter-box">Ø¸</span>
            <span class="letter-box">Ù„</span><span class="letter-box">Ù†</span>
        </div>
        <button onclick="hideHelp()">Fermer</button>
    </div>

    <script>
        // DonnÃ©es complÃ¨tes des mots lunaires du fichier Markdown
        const lunarWords = [
            {arabic: "Ø§Ù„Ù‚ÙÙ…ÙØ±Ù", french: "la lune", translit: "al-qamaru"},
            {arabic: "Ø§Ù„ÙƒÙØ£Ù’Ø³Ù", french: "le verre", translit: "al-kaÊ¾su"},
            {arabic: "Ø§Ù„Ø®ÙØ¨Ù’Ø²Ù", french: "le pain", translit: "al-khubzu"},
            {arabic: "Ø§Ù„Ø¹ÙØ·Ù’Ù„ÙØ©Ù", french: "les vacances", translit: "al-Ê¿uá¹­lah"},
            {arabic: "Ø§Ù„Ø¨ÙÙŠÙ’ØªÙ", french: "la maison", translit: "al-baytu"},
            {arabic: "Ø§Ù„Ø¬ÙØ§Ù…ÙØ¹ÙØ©Ù", french: "l'universitÃ©", translit: "al-jÄmiÊ¿ah"},
            {arabic: "Ø§Ù„ÙˆÙØ²ÙÙŠØ±Ù", french: "le ministre", translit: "al-wazÄ«ru"},
            {arabic: "Ø§Ù„ÙÙÙ†Ù’Ø¯ÙÙ‚Ù", french: "l'hÃ´tel", translit: "al-funduqu"},
            {arabic: "Ø§Ù„Ù‚ÙÙ‡Ù’ÙˆÙØ©Ù", french: "le cafÃ©", translit: "al-qahwah"},
            {arabic: "Ø§Ù„Ø¬ÙØ¨ÙÙ„Ù", french: "la montagne", translit: "al-jabalu"},
            {arabic: "Ø§Ù„ÙƒÙØªÙØ§Ø¨Ù", french: "le livre", translit: "al-kitÄbu"},
            {arabic: "Ø§Ù„Ù…ÙØ·Ù’Ø¹ÙÙ…Ù", french: "le restaurant", translit: "al-maá¹­Ê¿amu"},
            {arabic: "Ø§Ù„Ø­ÙØ¯ÙÙŠÙ‚ÙØ©Ù", french: "le jardin", translit: "al-á¸¥adÄ«qah"},
            {arabic: "Ø§Ù„Ø¹ÙØ±ÙØ¨ÙÙŠÙÙ‘Ø©Ù", french: "l'arabe (langue)", translit: "al-Ê¿arabiyyah"},
            {arabic: "Ø§Ù„Ø¹ÙÙ†Ù’ÙˆÙØ§Ù†Ù", french: "l'adresse", translit: "al-Ê¿unwÄnu"},
            {arabic: "Ø§Ù„Ù‡ÙÙˆÙØ§Ø¡Ù", french: "l'air", translit: "al-hawÄÊ¾u"},
            {arabic: "Ø§Ù„Ù…ÙÙƒÙ’ØªÙØ¨Ù", french: "le bureau", translit: "al-maktabu"},
            {arabic: "Ø§Ù„Ù…ÙØ·ÙØ§Ø±Ù", french: "l'aÃ©roport", translit: "al-maá¹­Äru"},
            {arabic: "Ø§Ù„ÙˆÙØ²ÙØ§Ø±ÙØ©Ù", french: "le ministÃ¨re", translit: "al-wizÄrah"},
            {arabic: "Ø§Ù„Ø¬ÙÙ„ÙØ¨ÙØ§Ø¨Ù", french: "la robe", translit: "al-jalabÄbu"},
            {arabic: "Ø§Ù„Ø®ÙØ·ÙØ§Ø¨Ù", french: "le discours", translit: "al-khiá¹­Äbu"},
            {arabic: "Ø§Ù„ÙˆÙØ§Ø¯ÙÙŠ", french: "la vallÃ©e", translit: "al-wÄdÄ«"},
            {arabic: "Ø§Ù„Ù‚ÙØ§Ø±ÙØ¨Ù", french: "le bateau", translit: "al-qÄribu"},
            {arabic: "Ø§Ù„Ø¬ÙÙˆÙÙ‘", french: "le temps / l'air", translit: "al-jawwu"},
            {arabic: "Ø§Ù„Ø¨ÙØ­Ù’Ø±Ù", french: "la mer", translit: "al-baá¸¥ru"},
            {arabic: "Ø§Ù„Ø¬ÙØ§Ù…ÙØ¹Ù", french: "la mosquÃ©e", translit: "al-jÄmiÊ¿u"},
            {arabic: "Ø§Ù„Ø¬ÙÙ…ÙÙŠÙ„Ù", french: "le beau", translit: "al-jamÄ«lu"},
            {arabic: "Ø§Ù„Ù‚ÙØ±Ù’Ø¢Ù†Ù", french: "le Coran", translit: "al-qurÊ¾Änu"},
            {arabic: "Ø§Ù„ÙƒÙØ§ÙÙÙŠ", french: "le suffisant", translit: "al-kÄfÄ«"},
            {arabic: "Ø§Ù„ÙˆÙÙ‚Ù’ØªÙ", french: "le temps", translit: "al-waqtu"},
            {arabic: "Ø§Ù„Ø¨ÙÙ‚Ù’Ù„ÙØ§ÙˆÙØ©Ù", french: "le baklava", translit: "al-baqlÄwah"},
            {arabic: "Ø§Ù„Ø¬ÙÙ…ÙØ§Ø¹ÙØ©Ù", french: "le groupe", translit: "al-jamÄÊ¿ah"},
            {arabic: "Ø§Ù„ÙˆÙØ¬ÙÙˆÙ‡Ù", french: "les visages", translit: "al-wujÅ«hu"},
            {arabic: "Ø§Ù„Ø¬ÙØ±ÙÙŠØ¯ÙØ©Ù", french: "le journal", translit: "al-jarÄ«dah"},
            {arabic: "Ø§Ù„Ù‚ÙØ·ÙØ§Ø±Ù", french: "le train", translit: "al-qiá¹­Äru"},
            {arabic: "Ø§Ù„Ø¬ÙØ³Ù’Ø±Ù", french: "le pont", translit: "al-jisru"},
            {arabic: "Ø§Ù„Ø¨ÙØ§Ø¨Ù", french: "la porte", translit: "al-bÄbu"},
            {arabic: "Ø§Ù„Ù‚ÙØµÙÙ‘Ø©Ù", french: "l'histoire", translit: "al-qiá¹£á¹£ah"},
            {arabic: "Ø§Ù„Ø¬ÙØ¨Ù’Ù†Ù", french: "le fromage", translit: "al-jubnu"},
            {arabic: "Ø§Ù„Ù‚ÙÙ„ÙÙ…Ù", french: "le stylo", translit: "al-qalamu"},
            {arabic: "Ø§Ù„Ø¨ÙØ·ÙØ§Ø·ÙØ³Ù", french: "les pommes de terre", translit: "al-baá¹­Äá¹­isu"},
            {arabic: "Ø§Ù„ÙƒÙØ±ÙØ©Ù", french: "la balle", translit: "al-kurah"},
            {arabic: "Ø§Ù„Ø¬ÙÙˆØ¹Ù", french: "la faim", translit: "al-jÅ«Ê¿u"},
            {arabic: "Ø§Ù„ØºÙØ±Ù’ÙÙØ©Ù", french: "la chambre", translit: "al-ghurfah"},
            {arabic: "Ø§Ù„Ù„ÙÙ‘ÙˆÙ’Ù†Ù", french: "la couleur", translit: "al-lawnu"},
            {arabic: "Ø§Ù„Ù‡ÙÙˆÙØ§ÙŠÙØ©Ù", french: "le loisir", translit: "al-hiwÄyah"},
            {arabic: "Ø§Ù„ÙˆÙÙ‚ÙÙˆØ¯Ù", french: "le carburant", translit: "al-waqÅ«du"},
            {arabic: "Ø§Ù„Ø¬ÙØ³Ù’Ù…Ù", french: "le corps", translit: "al-jismu"},
            {arabic: "Ø§Ù„Ø­ÙÙ‚ÙÙŠØ¨ÙØ©Ù", french: "le sac", translit: "al-á¸¥aqÄ«bah"},
            {arabic: "Ø§Ù„Ù‚ÙØ·ÙÙ‘Ø©Ù", french: "le chat (femelle)", translit: "al-qiá¹­á¹­ah"},
            {arabic: "Ø§Ù„Ø¨ÙÙŠÙÙˆØªÙ", french: "les maisons", translit: "al-buyÅ«tu"},
            {arabic: "Ø§Ù„ÙƒÙÙˆØ¨Ù", french: "le verre (Ã  boire)", translit: "al-kÅ«bu"},
            {arabic: "Ø§Ù„Ø¬ÙØ±ÙØ³Ù", french: "la cloche", translit: "al-jarasu"},
            {arabic: "Ø§Ù„ØºÙØ³ÙÙŠÙ„Ù", french: "la lessive", translit: "al-ghasÄ«lu"},
            {arabic: "Ø§Ù„Ù„ÙÙ‘ÙŠÙ’Ù„Ù", french: "la nuit", translit: "al-laylu"},
            {arabic: "Ø§Ù„ÙˆÙØ±ÙÙ‚Ù", french: "le papier", translit: "al-waraqu"},
            {arabic: "Ø§Ù„Ø¬ÙØ¯ÙØ§Ø±Ù", french: "le mur", translit: "al-jidÄru"},
            {arabic: "Ø§Ù„Ù‚ÙØ³Ù’Ù…Ù", french: "la section", translit: "al-qiá¹£mu"},
            {arabic: "Ø§Ù„Ù‡ÙØ¯ÙÙÙ", french: "le but", translit: "al-hadafu"},
            {arabic: "Ø§Ù„Ø­ÙÙƒÙ’Ù…ÙØ©Ù", french: "la sagesse", translit: "al-á¸¥ikmah"},
            {arabic: "Ø§Ù„Ø¨ÙØ¯ÙØ§ÙŠÙØ©Ù", french: "le dÃ©but", translit: "al-bidÄyah"},
            {arabic: "Ø§Ù„Ù‚ÙÙ…ÙÙŠØ³Ù", french: "la chemise", translit: "al-qamÄ«á¹£u"},
            {arabic: "Ø§Ù„ÙˆÙÙ‚Ù’ÙÙØ©Ù", french: "l'arrÃªt", translit: "al-waqfah"},
            {arabic: "Ø§Ù„ÙƒÙÙŠØ³Ù", french: "le sac", translit: "al-kÄ«su"},
            {arabic: "Ø§Ù„Ù‡ÙØ§ØªÙÙÙ", french: "le tÃ©lÃ©phone", translit: "al-hÄtifu"},
            {arabic: "Ø§Ù„Ù„ÙÙ‘ØºÙØ©Ù", french: "la langue", translit: "al-lughah"},
            {arabic: "Ø§Ù„Ø¨ÙØ·ÙØ§Ù‚ÙØ©Ù", french: "la carte", translit: "al-baá¹­Äqah"},
            {arabic: "Ø§Ù„Ù‚ÙØ±Ù’Ø¨ÙØ©Ù", french: "la proximitÃ©", translit: "al-qurbah"},
            {arabic: "Ø§Ù„Ø­ÙÙŠÙØ§Ø©Ù", french: "la vie", translit: "al-á¸¥ayÄh"},
            {arabic: "Ø§Ù„ÙˆÙØ§Ø¬ÙØ¨Ù", french: "le devoir", translit: "al-wÄjibu"},
            {arabic: "Ø§Ù„Ø¬ÙØ§Ù…ÙØ¯Ù", french: "le solide", translit: "al-jÄmidu"},
            {arabic: "Ø§Ù„Ø¨ÙÙ‚ÙØ±ÙØ©Ù", french: "la vache", translit: "al-baqarah"},
            {arabic: "Ø§Ù„Ø¬ÙØ²ÙÙŠØ±ÙØ©Ù", french: "l'Ã®le", translit: "al-jazÄ«rah"},
            {arabic: "Ø§Ù„ÙÙØµÙ’Ù„Ù", french: "la saison", translit: "al-faá¹£lu"},
            {arabic: "Ø§Ù„Ù‚ÙØµÙÙŠØ±Ù", french: "le court", translit: "al-qaá¹£Ä«ru"},
            {arabic: "Ø§Ù„Ù…ÙØ·ÙØ±Ù", french: "la pluie", translit: "al-maá¹­aru"},
            {arabic: "Ø§Ù„Ù‡ÙØ¬Ù’Ø±ÙØ©Ù", french: "la migration", translit: "al-hijrah"},
            {arabic: "Ø§Ù„ÙƒÙØ±ÙØ§Ù…ÙØ©Ù", french: "la dignitÃ©", translit: "al-karÄmah"},
            {arabic: "Ø§Ù„ÙˆÙØ±Ù’Ø¯ÙØ©Ù", french: "la rose", translit: "al-wardah"},
            {arabic: "Ø§Ù„Ø¬ÙØ§Ù†ÙØ¨Ù", french: "le cÃ´tÃ©", translit: "al-jÄnibu"},
            {arabic: "Ø§Ù„Ø­ÙÙ‚ÙÙ‘", french: "le droit", translit: "al-á¸¥aqqu"},
            {arabic: "Ø§Ù„Ù…ÙØ¬ÙÙ„ÙÙ‘Ø©Ù", french: "le magazine", translit: "al-majallah"},
            {arabic: "Ø§Ù„Ù‚ÙØ±ÙØ§Ø¡ÙØ©Ù", french: "la lecture", translit: "al-qirÄÊ¾ah"},
            {arabic: "Ø§Ù„ÙˆÙØ¬Ù’Ù‡Ù", french: "le visage", translit: "al-wajhu"},
            {arabic: "Ø§Ù„Ø¨ÙØ³ÙØ§Ø·Ù", french: "le tapis", translit: "al-bisÄá¹­u"},
            {arabic: "Ø§Ù„ÙƒÙØ¨ÙØ§Ø±Ù", french: "les grands", translit: "al-kibÄru"},
            {arabic: "Ø§Ù„Ù…ÙÙÙ’ØªÙØ§Ø­Ù", french: "la clÃ©", translit: "al-miftÄá¸¥u"},
            {arabic: "Ø§Ù„ÙˆÙØ±ÙÙ‚ÙØ©Ù", french: "la feuille", translit: "al-waraqah"},
            {arabic: "Ø§Ù„ØºÙØ³Ù’Ù„Ù", french: "la toilette", translit: "al-ghuslu"},
            {arabic: "Ø§Ù„Ø­ÙÙ‚Ù’Ù„Ù", french: "le champ", translit: "al-á¸¥aqlu"},
            {arabic: "Ø§Ù„Ù‚ÙØ±ÙØ§Ø±Ù", french: "la dÃ©cision", translit: "al-qarÄru"},
            {arabic: "Ø§Ù„Ø¬ÙØ§Ø±Ù", french: "le voisin", translit: "al-jÄru"},
            {arabic: "Ø§Ù„Ù…ÙÙ‚Ù’Ù‡ÙÙ‰", french: "le cafÃ© (lieu)", translit: "al-maqhÄ"},
            {arabic: "Ø§Ù„ÙÙÙƒÙ’Ø±Ù", french: "la pensÃ©e", translit: "al-fikru"},
            {arabic: "Ø§Ù„ÙƒÙØ§ØªÙØ¨Ù", french: "l'Ã©crivain", translit: "al-kÄtibu"}
        ];

        // DonnÃ©es complÃ¨tes des mots solaires du fichier Markdown
        const solarWords = [
            {arabic: "Ø§Ù„Ø´ÙÙ‘Ù…Ù’Ø³Ù", french: "le soleil", translit: "ash-shamsu"},
            {arabic: "Ø§Ù„Ø³ÙÙ‘ÙŠÙÙ‘Ø§Ø±ÙØ©Ù", french: "la voiture", translit: "as-sayyÄrah"},
            {arabic: "Ø§Ù„Ø·ÙÙ‘Ø§Ù„ÙØ¨Ù", french: "l'Ã©tudiant", translit: "aá¹­-á¹­Älibu"},
            {arabic: "Ø§Ù„ØµÙÙ‘Ø¯ÙÙŠÙ‚Ù", french: "l'ami", translit: "aá¹£-á¹£adÄ«qu"},
            {arabic: "Ø§Ù„Ø³ÙÙ‘Ù„ÙØ§Ù…Ù", french: "la paix", translit: "as-salÄmu"},
            {arabic: "Ø§Ù„Ø·ÙÙ‘Ø§Ø¨ÙÙ‚Ù", french: "l'Ã©tage", translit: "aá¹­-á¹­Äbiqu"},
            {arabic: "Ø§Ù„Ø¶ÙÙ‘ÙˆÙ’Ø¡Ù", french: "la lumiÃ¨re", translit: "aá¸-á¸aw'u"},
            {arabic: "Ø§Ù„Ù†ÙÙ‘Ø§Ø³Ù", french: "les gens", translit: "an-nÄsu"},
            {arabic: "Ø§Ù„Ø¸ÙÙ‘Ø§Ù‡ÙØ±Ù", french: "apparent", translit: "aáº“-áº“Ähiru"},
            {arabic: "Ø§Ù„Ø«ÙÙ‘ÙˆÙ’Ø±ÙØ©Ù", french: "la rÃ©volution", translit: "ath-thawrah"},
            {arabic: "Ø§Ù„Ø²ÙÙ‘ÙˆÙ’Ø¬ÙØ©Ù", french: "l'Ã©pouse", translit: "az-zawjah"},
            {arabic: "Ø§Ù„Ø³ÙÙ‘Ø¤ÙØ§Ù„Ù", french: "la question", translit: "as-suÊ¾Älu"},
            {arabic: "Ø§Ù„ØµÙÙ‘Ø­ÙÙŠÙÙØ©Ù", french: "le journal", translit: "aá¹£-á¹£aá¸¥Ä«fah"},
            {arabic: "Ø§Ù„Ø´ÙÙ‘Ø±Ù’Ø·ÙÙŠÙÙ‘", french: "le policier", translit: "ash-shurá¹­iyy"},
            {arabic: "Ø§Ù„Ø¶ÙÙ‘Ø§Ø¨ÙØ·Ù", french: "l'officier", translit: "aá¸-á¸Äbiá¹­u"},
            {arabic: "Ø§Ù„Ø·ÙÙ‘Ø¹ÙØ§Ù…Ù", french: "la nourriture", translit: "aá¹­-á¹­aÊ¿Ämu"},
            {arabic: "Ø§Ù„Ø²ÙÙ‘ÙŠÙ’ØªÙ", french: "l'huile", translit: "az-zaytu"},
            {arabic: "Ø§Ù„Ø¸ÙÙ‘Ù‡Ù’Ø±Ù", french: "le midi", translit: "aáº“-áº“uhr"},
            {arabic: "Ø§Ù„Ø«ÙÙ‘Ù„Ù’Ø¬Ù", french: "la neige", translit: "ath-thalju"},
            {arabic: "Ø§Ù„Ø´ÙÙ‘Ø§Ø±ÙØ¹Ù", french: "la rue", translit: "ash-shÄriÊ¿u"},
            {arabic: "Ø§Ù„Ø·ÙÙ‘Ø§Ø¦ÙØ±ÙØ©Ù", french: "l'avion", translit: "aá¹­-á¹­ÄÊ¾irah"},
            {arabic: "Ø§Ù„Ø³ÙÙ‘Ø¨Ù’Ø¹ÙØ©Ù", french: "le sept", translit: "as-sabÊ¿atu"},
            {arabic: "Ø§Ù„Ø³ÙÙ‘ØªÙÙ‘Ø©Ù", french: "le six", translit: "as-sittatu"},
            {arabic: "Ø§Ù„Ø«ÙÙ‘Ù„ÙØ§Ø«ÙØ©Ù", french: "le trois", translit: "ath-thalÄthatu"},
            {arabic: "Ø§Ù„ØªÙÙ‘Ù…Ù’Ø±ÙÙŠÙ†Ù", french: "l'exercice", translit: "at-tamrÄ«nu"},
            {arabic: "Ø§Ù„Ø´ÙÙ‘ÙŠÙ’Ø®Ù", french: "le cheikh", translit: "ash-shaykhu"},
            {arabic: "Ø§Ù„Ø³ÙÙ‘Ù„ÙØ·ÙØ©Ù", french: "la salade", translit: "as-salaá¹­ah"},
            {arabic: "Ø§Ù„Ø´ÙÙ‘Ø±Ù’Ø¨Ù", french: "la boisson", translit: "ash-shurbu"},
            {arabic: "Ø§Ù„ØµÙÙ‘ÙŠÙ’ÙÙ", french: "l'Ã©tÃ©", translit: "aá¹£-á¹£ayfu"},
            {arabic: "Ø§Ù„Ø¶ÙÙ‘ØºÙ’Ø·Ù", french: "la pression", translit: "aá¸-á¸agá¹­u"},
            {arabic: "Ø§Ù„Ø³ÙÙ‘ÙÙØ±Ù", french: "le voyage", translit: "as-safaru"},
            {arabic: "Ø§Ù„Ø´ÙÙ‘ÙŠÙ’Ø¡Ù", french: "la chose", translit: "ash-shayÊ¾u"},
            {arabic: "Ø§Ù„Ø³ÙÙ‘ÙˆÙ‚Ù", french: "le marchÃ©", translit: "as-sÅ«qu"},
            {arabic: "Ø§Ù„Ø³ÙÙ‘Ø¨ÙØ¨Ù", french: "la raison", translit: "as-sababu"},
            {arabic: "Ø§Ù„ØµÙÙ‘Ø¨ÙØ§Ø­Ù", french: "le matin", translit: "aá¹£-á¹£abÄá¸¥u"},
            {arabic: "Ø§Ù„Ø·ÙÙ‘Ù‚Ù’Ø³Ù", french: "la mÃ©tÃ©o", translit: "aá¹­-á¹­aqsu"},
            {arabic: "Ø§Ù„Ø¶ÙÙ‘ÙŠÙ’ÙÙ", french: "l'invitÃ©", translit: "aá¸-á¸ayfu"},
            {arabic: "Ø§Ù„Ø«ÙÙ‘ÙˆÙ’Ø¨Ù", french: "le vÃªtement", translit: "ath-thawbu"},
            {arabic: "Ø§Ù„Ø²ÙÙ‘Ù…ÙÙ†Ù", french: "le temps", translit: "az-zamanu"},
            {arabic: "Ø§Ù„Ù†ÙÙ‘Ù‡ÙØ§Ø±Ù", french: "la journÃ©e", translit: "an-nahÄru"},
            {arabic: "Ø§Ù„Ø·ÙÙ‘ÙÙ’Ù„Ù", french: "l'enfant", translit: "aá¹­-á¹­iflu"},
            {arabic: "Ø§Ù„Ø¸ÙÙ‘Ø±Ù’ÙÙ", french: "la circonstance", translit: "aáº“-áº“arfu"},
            {arabic: "Ø§Ù„ØµÙÙ‘ÙˆÙ’ØªÙ", french: "la voix", translit: "aá¹£-á¹£awtu"},
            {arabic: "Ø§Ù„Ø´ÙÙ‘Ø±ÙÙƒÙØ©Ù", french: "l'entreprise", translit: "ash-sharikah"},
            {arabic: "Ø§Ù„Ø³ÙÙ‘Ø§Ø¹ÙØ©Ù", french: "l'heure", translit: "as-sÄÊ¿ah"},
            {arabic: "Ø§Ù„Ø´ÙÙ‘ÙˆÙØ§Ø±ÙØ¹Ù", french: "les rues", translit: "ash-shawÄriÊ¿u"},
            {arabic: "Ø§Ù„Ø³ÙÙ‘ÙƒÙÙ‘Ø±Ù", french: "le sucre", translit: "as-sukkaru"},
            {arabic: "Ø§Ù„ØµÙÙ‘Ø¯Ù’Ù…ÙØ©Ù", french: "le choc", translit: "aá¹£-á¹£admah"},
            {arabic: "Ø§Ù„Ø¶ÙÙ‘Ø±ÙÙˆØ±ÙØ©Ù", french: "la nÃ©cessitÃ©", translit: "aá¸-á¸arÅ«rah"},
            {arabic: "Ø§Ù„Ø«ÙÙ‘Ù‚ÙØ§ÙÙØ©Ù", french: "la culture", translit: "ath-thaqÄfah"},
            {arabic: "Ø§Ù„Ù†ÙÙ‘Ø§ÙÙØ°ÙØ©Ù", french: "la fenÃªtre", translit: "an-nÄfidhah"},
            {arabic: "Ø§Ù„Ø²ÙÙ‘ÙˆÙØ§Ø¬Ù", french: "le mariage", translit: "az-zawÄju"},
            {arabic: "Ø§Ù„Ø´ÙÙ‘ÙŠÙ’Ø·ÙØ§Ù†Ù", french: "le diable", translit: "ash-shayá¹­Änu"},
            {arabic: "Ø§Ù„Ø·ÙÙ‘Ø¨ÙÙŠØ¨Ù", french: "le mÃ©decin", translit: "aá¹­-á¹­abÄ«bu"},
            {arabic: "Ø§Ù„Ø³ÙÙ‘ÙŠÙÙ‘Ø¯ÙØ©Ù", french: "la dame", translit: "as-sayyidah"},
            {arabic: "Ø§Ù„Ø¸ÙÙ‘Ù„Ù’Ù…Ù", french: "l'injustice", translit: "aáº“-áº“ulmu"},
            {arabic: "Ø§Ù„Ø·ÙÙ‘Ø§ÙˆÙÙ„ÙØ©Ù", french: "la table", translit: "aá¹­-á¹­Äwilah"},
            {arabic: "Ø§Ù„ØµÙÙ‘Ø­ÙÙ‘Ø©Ù", french: "la santÃ©", translit: "aá¹£-á¹£iá¸¥á¸¥ah"},
            {arabic: "Ø§Ù„Ø³ÙÙ‘ÙÙØ§Ø±ÙØ©Ù", french: "l'ambassade", translit: "as-safÄrah"},
            {arabic: "Ø§Ù„Ø´ÙÙ‘Ø®Ù’ØµÙ", french: "la personne", translit: "ash-shakhá¹£u"},
            {arabic: "Ø§Ù„Ø¶ÙÙ‘ÙˆÙ’Ø¶ÙØ§Ø¡Ù", french: "le bruit", translit: "aá¸-á¸awá¸ÄÊ¾u"},
            {arabic: "Ø§Ù„Ø·ÙÙ‘Ø±ÙÙŠÙ‚Ù", french: "la route", translit: "aá¹­-á¹­arÄ«qu"},
            {arabic: "Ø§Ù„Ø²ÙÙ‘Ù…ÙÙ„ÙØ§Ø¡Ù", french: "les collÃ¨gues", translit: "az-zumalÄÊ¾u"},
            {arabic: "Ø§Ù„Ø«ÙÙ‘Ø§Ù†ÙÙŠÙØ©Ù", french: "la deuxiÃ¨me", translit: "ath-thÄniyah"},
            {arabic: "Ø§Ù„Ø¸ÙÙ‘Ù„ÙÙ‘", french: "l'ombre", translit: "aáº“-áº“illu"},
            {arabic: "Ø§Ù„Ø³ÙÙ‘Ù…ÙÙƒÙ", french: "le poisson", translit: "as-samaku"},
            {arabic: "Ø§Ù„Ø´ÙÙ‘Ø±Ù’Ù‚Ù", french: "l'est", translit: "ash-sharqu"},
            {arabic: "Ø§Ù„Ù†ÙÙ‘ÙÙ’Ø³Ù", french: "l'Ã¢me", translit: "an-nafsu"},
            {arabic: "Ø§Ù„ØµÙÙ‘ÙÙÙ‘", french: "la classe", translit: "aá¹£-á¹£affu"},
            {arabic: "Ø§Ù„Ø¶ÙÙ‘Ø­ÙÙƒÙØ©Ù", french: "le rire", translit: "aá¸-á¸aá¸¥ikah"},
            {arabic: "Ø§Ù„Ø²ÙÙ‘ÙŠÙØ§Ø±ÙØ©Ù", french: "la visite", translit: "az-ziyÄrah"},
            {arabic: "Ø§Ù„Ø·ÙÙ‘Ø¨ÙØ®Ù", french: "la cuisine", translit: "aá¹­-á¹­abkhu"},
            {arabic: "Ø§Ù„Ø³ÙÙ‘Ø¨ÙÙˆØ±ÙØ©Ù", french: "le tableau", translit: "as-sabÅ«rah"},
            {arabic: "Ø§Ù„Ø´ÙÙ‘Ù…ÙØ§Ù„Ù", french: "le nord", translit: "ash-shamÄlu"},
            {arabic: "Ø§Ù„Ø·ÙÙ‘Ø¨ÙÙŠØ¹ÙØ©Ù", french: "la nature", translit: "aá¹­-á¹­abÄ«Ê¿ah"},
            {arabic: "Ø§Ù„Ø«ÙÙ‘Ù‚ÙÙŠÙ„Ù", french: "le lourd", translit: "ath-thaqÄ«lu"},
            {arabic: "Ø§Ù„Ø¶ÙÙ‘Ø­ÙÙŠÙÙ‘Ø©Ù", french: "la victime", translit: "aá¸-á¸aá¸¥iyyah"},
            {arabic: "Ø§Ù„Ø²ÙÙ‘ÙŠÙÙ‘", french: "l'uniforme", translit: "az-ziyyu"},
            {arabic: "Ø§Ù„ØµÙÙ‘Ø¯Ù’Ø±Ù", french: "la poitrine", translit: "aá¹£-á¹£adru"},
            {arabic: "Ø§Ù„Ù†ÙÙ‘Ù‚ÙÙˆØ¯Ù", french: "l'argent", translit: "an-nuqÅ«du"},
            {arabic: "Ø§Ù„Ø´ÙÙ‘ÙÙØ©Ù", french: "la lÃ¨vre", translit: "ash-shafah"},
            {arabic: "Ø§Ù„Ø·ÙÙ‘Ø¨ÙÙ‚Ù", french: "l'assiette", translit: "aá¹­-á¹­abaqu"},
            {arabic: "Ø§Ù„Ø¸ÙÙ‘Ø±ÙÙˆÙÙ", french: "les circonstances", translit: "aáº“-áº“urÅ«fu"},
            {arabic: "Ø§Ù„Ø³ÙÙ‘ÙƒÙÙ†Ù", french: "le logement", translit: "as-sakanu"},
            {arabic: "Ø§Ù„ØµÙÙ‘Ø±Ù’ÙÙ", french: "le change", translit: "aá¹£-á¹£arfu"},
            {arabic: "Ø§Ù„Ø³ÙÙ‘Ù„ÙÙŠÙ…Ù", french: "le sain", translit: "as-salÄ«mu"},
            {arabic: "Ø§Ù„Ø´ÙÙ‘Ø¬ÙØ±ÙØ©Ù", french: "l'arbre", translit: "ash-shajarah"},
            {arabic: "Ø§Ù„ØµÙÙ‘ØºÙÙŠØ±Ù", french: "le petit", translit: "aá¹£-á¹£aghÄ«ru"},
            {arabic: "Ø§Ù„Ø¶ÙÙ‘Ø±Ù’Ø¨Ù", french: "le coup", translit: "aá¸-á¸arbu"},
            {arabic: "Ø§Ù„Ø²ÙÙ‘Ù…ÙÙŠÙ„Ù", french: "le camarade", translit: "az-zamÄ«lu"},
            {arabic: "Ø§Ù„Ù†ÙÙ‘Ø§Ø³ÙØ®Ù", french: "le copieur", translit: "an-nÄsikhu"},
            {arabic: "Ø§Ù„Ø«ÙÙ‘Ø§Ù†ÙÙˆÙÙŠÙÙ‘Ø©Ù", french: "le lycÃ©e", translit: "ath-thÄnawiyyah"},
            {arabic: "Ø§Ù„Ø´ÙÙ‘Ø¹ÙÙˆØ±Ù", french: "le sentiment", translit: "ash-shuÊ¿Å«ru"},
            {arabic: "Ø§Ù„Ø¸ÙÙ‘Ù†ÙÙ‘", french: "la supposition", translit: "aáº“-áº“annu"},
            {arabic: "Ø§Ù„Ø³ÙÙ‘Ø±ÙÙŠØ±Ù", french: "le lit", translit: "as-sarÄ«ru"},
            {arabic: "Ø§Ù„ØµÙÙ‘Ø±ÙÙŠØ¹Ù", french: "l'abattu", translit: "aá¹£-á¹£arÄ«Ê¿u"}
        ];

        let currentQuestionType = '';
        let stats = {
            correct: 0,
            errors: 0,
            streak: 0,
            total: 0
        };


let deviceIsMobile = window.matchMedia("(pointer:coarse)").matches || window.innerWidth < 700;
window.addEventListener('resize', function() {
    deviceIsMobile = window.matchMedia("(pointer:coarse)").matches || window.innerWidth < 700;
});



        function updateStats() {
            document.getElementById('correctCount').textContent = stats.correct;
            document.getElementById('errorCount').textContent = stats.errors;
            document.getElementById('streak').textContent = stats.streak;
            const accuracy = stats.total > 0 ? Math.round((stats.correct / stats.total) * 100) : 0;
            document.getElementById('accuracy').textContent = accuracy + '%';
        }

        function generateExercise() {
            const count = Math.min(parseInt(document.getElementById('wordCount').value), 100);
            const allWords = [...lunarWords, ...solarWords].sort(() => Math.random() - 0.5);
            const selectedWords = allWords.slice(0, count);

              const feedback = document.getElementById('feedback');
              if (feedback) feedback.innerHTML = '';
              if (feedback) feedback.className = 'feedback';
            
            currentQuestionType = Math.random() > 0.5 ? 'lunar' : 'solar';
            const questionText = currentQuestionType === 'lunar' ? 'ğŸŒ™ lunaires' : 'â˜€ï¸ solaires';
            document.getElementById('question').innerHTML = `SÃ©lectionnez les mots <strong>${questionText}</strong> <span class="loading">â³</span>`;
            
            setTimeout(() => {
                document.getElementById('question').innerHTML = `SÃ©lectionnez les mots <strong>${questionText}</strong>`;
            }, 1000);

            const tbody = document.getElementById('tableBody');
tbody.innerHTML = ""; // Vide le tableau

const mobileChoicesDiv = document.getElementById('mobileChoices');
if (mobileChoicesDiv) mobileChoicesDiv.innerHTML = '';

if (!deviceIsMobile) {
    // --- TABLEAU Ã€ COCHES (desktop) : code existant ---
    tbody.innerHTML = selectedWords.map((word, index) => `
        <tr style="animation-delay: ${index * 0.1}s">
            <td>${word.arabic}</td>
            <td>${word.french}</td>
            <td class="hide-col">${word.translit}</td>
            <td><input type="checkbox"></td>
        </tr>
    `).join('');
} else {
    // --- BOUTONS VERTICAUX (MOBILE) ---
    const el = document.getElementById('wordTable'); 
    el.hidden = true;  
   
    selectedWords.forEach((word, i) => {
        let btn = document.createElement('button');
        btn.type = "button";
        btn.textContent = `${word.arabic} â€” ${word.french}`;
        btn.onclick = () => {
            btn.classList.toggle("selected");
        };
        mobileChoicesDiv.appendChild(btn);
    });
    // Stocke pour la validation
    window._mobileChoices = { selectedWords };
}

            // RÃ©activer le bouton et vider le feedback
            document.getElementById('checkBtn').disabled = false;
            document.getElementById('feedback').innerHTML = '';
        }

        function showSuccessMessage(correct, total) {
            const feedback = document.getElementById('feedback');
            feedback.className = 'feedback success';
            feedback.innerHTML = `
                <h4>ğŸ‰ Parfait ! Toutes les rÃ©ponses sont correctes ! ğŸ‰</h4>
                <p>Score parfait : <strong>${correct}/${total}</strong></p>
                <p>ğŸ”¥ SÃ©rie actuelle : <strong>${stats.streak}</strong> exercice(s) rÃ©ussi(s)</p>
                <p><em>â±ï¸ Nouvel exercice dans 3 secondes...</em></p>
            `;
        }

        function showErrorMessage(errors, correct, total) {
            const feedback = document.getElementById('feedback');
            feedback.className = 'feedback error';
            feedback.innerHTML = `
                <h4>ğŸ“Š Score : ${correct}/${total}</h4>
                <div><strong>ğŸ’¡ Corrections :</strong></div>
                ${errors.map(error => `<div>â€¢ ${error}</div>`).join('')}
            `;
        }

        function getTargetLetter(arabicWord) {
            const normalized = arabicWord.normalize('NFD')
                .replace(/[\u064B-\u065F\u0670\u0610-\u061A]/g, '');
            return normalized.startsWith('Ø§Ù„') ? normalized[2] : normalized[0];
        }


        function getLunarLetters() {
            return ['Ø£','Ø¨','Ø¬','Ø­','Ø®','Ø¹','Øº','Ù','Ù‚','Ùƒ','Ù…','Ù‡','Ùˆ','ÙŠ'];
        }

        // Initialisation avec animation
        document.addEventListener('DOMContentLoaded', function() {
            updateStats();
            setTimeout(generateExercise, 500);
        });



 
        function showHelp(type) {
            document.getElementById(`${type}Help`).style.display = 'block';
        }

        function hideHelp() {
            document.querySelectorAll('.help-modal').forEach(modal => {
                modal.style.display = 'none';
            });
        }

        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape') hideHelp();
        });

        document.addEventListener('click', function(event) {
            const modals = document.querySelectorAll('.help-modal');
            modals.forEach(modal => {
                if (modal.style.display === 'block' && !modal.contains(event.target)) {
                    const isOpenButton = event.target.closest('button') &&
                        (event.target.textContent.includes('Lunaires') || event.target.textContent.includes('Solaires'));
                    if (!isOpenButton) hideHelp();
                }
            });
        });
  


    </script>
<script>
  const menuToggle = document.getElementById('menu-toggle');
  const menuIcon = document.querySelector('.menu-icon');

  let autoCloseTimer = null;

  // Quand on clique sur lâ€™icÃ´ne du menu
  menuIcon.addEventListener('click', () => {
    // Petite attente pour laisser le menu sâ€™ouvrir via le CSS
    setTimeout(() => {
      if (menuToggle.checked) {
        // Si menu ouvert, lancer le minuteur
        if (autoCloseTimer) clearTimeout(autoCloseTimer); // RÃ©initialise si dÃ©jÃ  lancÃ©
        autoCloseTimer = setTimeout(() => {
          menuToggle.checked = false; // Replier le menu
        }, 5000); // 5 secondes
      }
    }, 50); // on laisse le temps Ã  lâ€™Ã©tat "checked" de sâ€™activer
  });
</script>

<script>
  
// GÃ©nÃ¨re les boutons pour mobile
function genererBoutonsMobile() {
  const group = document.getElementById('mobile-btn-group');
  if (!group) return;
  group.innerHTML = '';
 selectedWords.forEach((mot, idx) => {
    const btn = document.createElement('button');
    btn.className = "reponse-btn";
    btn.type = "button";
    btn.dataset.idx = idx;
    btn.innerText = `${mot.arabe} â€“ ${mot.francais}`;
    btn.onclick = () => btn.classList.toggle('selected');
    group.appendChild(btn);
  });
}

// Affiche ou masque les boutons/cases selon la largeur
function afficherBoutonsSiMobile() {
  const group = document.getElementById('mobile-btn-group');
  if (!group) return;
  if (window.innerWidth <= 600) {
    group.style.display = 'flex';
    document.querySelectorAll('.checkbox-selection').forEach(e => e.style.display = 'none');
   
    genererBoutonsMobile();
  } else {
    group.style.display = 'none';
    document.querySelectorAll('.checkbox-selection').forEach(e => e.style.display = '');
  }
}
window.addEventListener('resize', afficherBoutonsSiMobile);
window.addEventListener('DOMContentLoaded', afficherBoutonsSiMobile);

// VÃ©rification des rÃ©ponses via boutons mobiles
/*
function checkAnswers() {
    const feedback = document.getElementById('feedback');
    feedback.innerHTML = '';

    // D'abord, on dÃ©tecte si on est en mode boutons (mobile) ou cases Ã  cocher (desktop)
    const btnGroup = document.getElementById('mobile-btn-group');
    const isMobileMode = btnGroup && btnGroup.style.display !== 'none';

    // Initialisation des stats
    let correctAnswers = 0;
    let totalQuestions = 0;
    let errors = [];

    // --- MODE MOBILE : boutons ---
    if (isMobileMode) {
        // Nettoyer les anciennes classes
        document.querySelectorAll('.reponse-btn').forEach(btn => {
            btn.classList.remove('erreur', 'correction');
        });

        // Parcourir chaque bouton
        document.querySelectorAll('.reponse-btn').forEach((btn, index) => {
            const idx = parseInt(btn.dataset.idx, 10);
            // RÃ©cupÃ©rer les infos du mot (adaptez selon votre structure)
            const mot = selectedWords.[idx];
            const arabicWord = mot.arabe;
            const translit = mot.translit || '';
            const targetLetter = getTargetLetter(arabicWord);
            const isLunar = getLunarLetters().includes(targetLetter);
            const shouldBeSelected = (currentQuestionType === 'lunar') === isLunar;
            const isSelected = btn.classList.contains('selected');
            totalQuestions++;

            if (isSelected === shouldBeSelected) {
                correctAnswers++;
                btn.classList.add('correct-row');
            } else {
                btn.classList.add('erreur');
                const wordType = isLunar ? 'lunaire' : 'solaire';
                const expectedAction = shouldBeSelected ? 'sÃ©lectionner' : 'ne pas sÃ©lectionner';
                errors.push(`${arabicWord} (${translit}) : lettre ${targetLetter} â€” ${wordType} â¤ Il fallait ${expectedAction}`);
            }

            if (!isSelected && shouldBeSelected) {
                btn.classList.add('correction');
            }
        });

        // Feedback et stats
        stats.total++;
        if (correctAnswers === totalQuestions) {
            stats.correct++;
            stats.streak++;
            showSuccessMessage(correctAnswers, totalQuestions);
            setTimeout(() => {
                generateExercise();
            }, 2000);
        } else {
            stats.errors++;
            stats.streak = 0;
            showErrorMessage(errors, correctAnswers, totalQuestions);
        }
        updateStats();
        document.getElementById('checkBtn').disabled = true;
        return; // On sort, pas besoin d'aller plus loin
    }

    // --- MODE DESKTOP : cases Ã  cocher ---
    const checkboxes = document.querySelectorAll('#tableBody input[type="checkbox"]');
    totalQuestions = checkboxes.length;
    correctAnswers = 0;
    errors = [];

    checkboxes.forEach((checkbox, index) => {
        const row = checkbox.closest('tr');
        const arabicWord = row.cells[0].textContent;
        const translit = row.cells[2].textContent;
        const targetLetter = getTargetLetter(arabicWord);

        const isLunar = getLunarLetters().includes(targetLetter);
        const shouldBeSelected = (currentQuestionType === 'lunar') === isLunar;

        setTimeout(() => {
            if (checkbox.checked === shouldBeSelected) {
                correctAnswers++;
                row.classList.add('correct-row');
            } else {
                row.classList.add('incorrect-row');
                const wordType = isLunar ? 'lunaire' : 'solaire';
                const expectedAction = shouldBeSelected ? 'cocher' : 'ne pas cocher';
                errors.push(`${arabicWord} (${translit}) : lettre ${targetLetter} â€” ${wordType} â¤ Il fallait ${expectedAction}`);
            }

            if (index === checkboxes.length - 1) {
                setTimeout(() => {
                    stats.total++;
                    if (correctAnswers === totalQuestions) {
                        stats.correct++;
                        stats.streak++;
                        showSuccessMessage(correctAnswers, totalQuestions);
                        setTimeout(() => {
                            generateExercise();
                        }, 3000);
                    } else {
                        stats.errors++;
                        stats.streak = 0;
                        showErrorMessage(errors, correctAnswers, totalQuestions);
                    }
                    updateStats();
                }, 500);
            }
        }, index * 100);
    });

    document.getElementById('checkBtn').disabled = true;
}
*/

function checkAnswers() {
    const feedback = document.getElementById('feedback');
    feedback.innerHTML = '';

    // DÃ©tection mobile
    let deviceIsMobile = window.matchMedia("(pointer:coarse)").matches || window.innerWidth < 700;

    if (!deviceIsMobile) {
        // --- DESKTOP : tableau Ã  coches ---
        const checkboxes = document.querySelectorAll('#tableBody input[type="checkbox"]');
        let correctAnswers = 0;
        let totalQuestions = checkboxes.length;
        let errors = [];

        checkboxes.forEach((checkbox, index) => {
            const row = checkbox.closest('tr');
            const arabicWord = row.cells[0].textContent;
            const translit = row.cells[2].textContent;
            const targetLetter = getTargetLetter(arabicWord);

            const isLunar = getLunarLetters().includes(targetLetter);
            const shouldBeSelected = (currentQuestionType === 'lunar') === isLunar;

            setTimeout(() => {
                if(checkbox.checked === shouldBeSelected) {
                    correctAnswers++;
                    row.classList.add('correct-row');
                } else {
                    row.classList.add('incorrect-row');
                    const wordType = isLunar ? 'lunaire' : 'solaire';
                    const expectedAction = shouldBeSelected ? 'cocher' : 'ne pas cocher';
                    errors.push(`${arabicWord} (${translit}) : lettre ${targetLetter} â€” ${wordType} â¤ Il fallait ${expectedAction}`);
                }

                if(index === checkboxes.length - 1) {
                    setTimeout(() => {
                        stats.total++;
                        if (correctAnswers === totalQuestions) {
                            stats.correct++;
                            stats.streak++;
                            showSuccessMessage(correctAnswers, totalQuestions);
                            setTimeout(() => {
                                generateExercise();
                            }, 3000);
                        } else {
                            stats.errors++;
                            stats.streak = 0;
                            showErrorMessage(errors, correctAnswers, totalQuestions);
                        }
                        updateStats();
                    }, 500);
                }
            }, index * 100);
        });

        document.getElementById('checkBtn').disabled = true;
    } else {
        // --- MOBILE : multi-sÃ©lection boutons ---
        let mobileZone = document.getElementById('mobileChoices');
        if (!mobileZone) return;
        let selectedBtns = Array.from(mobileZone.children).filter(b => b.classList.contains("selected"));
        let { selectedWords } = window._mobileChoices || {};
        let correctAnswers = 0;
        let errors = [];
        let totalQuestions = selectedWords.length;

        selectedWords.forEach((word, i) => {
            const targetLetter = getTargetLetter(word.arabic);
            const isLunar = getLunarLetters().includes(targetLetter);
            const shouldBeSelected = (currentQuestionType === 'lunar') === isLunar;
            const isSelected = selectedBtns.includes(mobileZone.children[i]);
            if (isSelected === shouldBeSelected) {
                correctAnswers++;
            } else {
                const wordType = isLunar ? 'lunaire' : 'solaire';
                const expectedAction = shouldBeSelected ? 'SÃ©lectionner' : 'Ne pas sÃ©lectionner';
                errors.push(`${word.arabic} (${word.translit}) : lettre ${targetLetter} â€” ${wordType} â¤ Il fallait ${expectedAction}`);
            }
        });

        stats.total++;
        if (correctAnswers === totalQuestions) {
            stats.correct++;
            stats.streak++;
            showSuccessMessage(correctAnswers, totalQuestions);
            setTimeout(() => {
                generateExercise();
            }, 3000);
        } else {
            stats.errors++;
            stats.streak = 0;
            showErrorMessage(errors, correctAnswers, totalQuestions);
        }
        updateStats();
        document.getElementById('checkBtn').disabled = true;

    }
}



// Recharge une nouvelle question (exemple)
function nouvelleQuestion() {
  genererBoutonsMobile();
  const feedback = document.getElementById('feedback');
  if (feedback) feedback.innerHTML = '';
  if (feedback) feedback.className = 'feedback';
}

// S'assure que le bouton vÃ©rifie bien la fonction
window.addEventListener('DOMContentLoaded', () => {
  const btn = document.getElementById('checkBtn');
  if (btn) btn.onclick = checkAnswers;
});

</script>

</body>
</html>
